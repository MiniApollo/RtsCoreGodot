using Godot;
using System;
using System.Collections.Generic;

namespace Unit_Selection{

	static class Unit_Selection {

		public static void ClickSelect(CharacterBody3D UnitToAdd, List<CharacterBody3D> UnitsSelected) {

			DeselectAll();
			UnitsSelected.Add(UnitToAdd);
			UnitToAdd.GetChild<MeshInstance3D>(0).Show();
			//if(unitToAdd.CompareTag("Unit")){
			//unitToAdd.GetComponent<UnitMovement>().enabled = true;
			//}
		}
		public static void ShiftClickSelect(CharacterBody3D UnitToAdd, List<CharacterBody3D> UnitsSelected) {
			if (!UnitsSelected.Contains(UnitToAdd)) {
				UnitsSelected.Add(UnitToAdd);
				UnitToAdd.GetChild<MeshInstance3D>(0).Show();
				/*
				if(UnitToAdd.CompareTag("Unit")){
					UnitToAdd.GetComponent<UnitMovement>().enabled = true;
				}
				*/
			}
			else {
				/*
				if(UnitToAdd.CompareTag("Unit")){
					UnitToAdd.GetComponent<UnitMovement>().enabled = false;
				}
				*/
				UnitToAdd.GetChild<MeshInstance3D>(0).Hide();
				UnitsSelected.Remove(UnitToAdd);

			}
		}

		public static void DragSelect(CharacterBody3D UnitToAdd, List<CharacterBody3D> UnitsSelected) {
            if (!UnitsSelected.Contains(UnitToAdd)) {

                UnitsSelected.Add(UnitToAdd);
                UnitToAdd.GetChild<MeshInstance3D>(0).Show();
                /*
                if(UnitToAdd.CompareTag("Unit")){
                    UnitToAdd.GetComponent<UnitMovement>().enabled = true;
                }
                */
            }

		}
		public static void Deselect(CharacterBody3D UnitToAdd, List<CharacterBody3D> UnitsSelected) {

			DeselectAll();
			UnitsSelected.Add(UnitToAdd);
			UnitToAdd.GetChild<MeshInstance3D>(0).Show();
			//if(unitToAdd.CompareTag("Unit")){
			//unitToAdd.GetComponent<UnitMovement>().enabled = true;
			//}
		}

		public static void DeselectAll() {

		}


	}
}
